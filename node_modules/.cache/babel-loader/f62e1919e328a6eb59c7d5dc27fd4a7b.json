{"ast":null,"code":"var _s = $RefreshSig$();\n\nimport { useEffect, useState } from \"react\";\nimport { useDeps } from \"../../context/depContext\";\nimport useAsync from \"../../shared/UseAsync\"; // separate ui hook\n\nconst useMyHook = () => {\n  _s();\n\n  const [result, setResult] = useState('');\n  const [counter, setCounter] = useState(0);\n  const {\n    moreEffectService\n  } = useDeps();\n  const {\n    execute,\n    status,\n    value,\n    error\n  } = useAsync();\n  useEffect(() => {\n    onExec();\n  }, [counter]);\n  useEffect(() => {\n    setResult(value);\n\n    if (status === 'failed') {\n      window.alert(error);\n    }\n  }, [value, status]);\n\n  const add = () => {\n    console.log(counter); // //cara yg salah \n\n    setCounter(counter + 1); // onExec()\n    // setResult(value)\n  };\n\n  const min = () => {\n    console.log(counter);\n    setCounter(counter - 1); // onExec()\n    // setResult(value)\n  };\n\n  const onExec = async () => {\n    if (counter !== null) {\n      await execute(() => moreEffectService.doPrint(counter));\n    }\n  };\n\n  return {\n    result,\n    status,\n    add,\n    min\n  };\n};\n\n_s(useMyHook, \"stKyNcJLzrf61U6l1qGL4TYOzgA=\", false, function () {\n  return [useDeps, useAsync];\n});\n\nexport default useMyHook;","map":{"version":3,"names":["useEffect","useState","useDeps","useAsync","useMyHook","result","setResult","counter","setCounter","moreEffectService","execute","status","value","error","onExec","window","alert","add","console","log","min","doPrint"],"sources":["/home/dell/training/fe/challenge/challenge-tugas/baru/src/components/MyHook/UseMyHook.js"],"sourcesContent":["import { useEffect, useState } from \"react\"\nimport { useDeps } from \"../../context/depContext\";\nimport useAsync from \"../../shared/UseAsync\";\n\n// separate ui hook\nconst useMyHook = () => {\n    const [result, setResult] = useState('');\n    const [counter, setCounter] = useState(0);\n    const {moreEffectService} = useDeps();\n    const {execute, status, value, error} = useAsync();\n\n    useEffect(()=>{\n        onExec()\n    },[counter])\n\n    useEffect(()=>{\n        setResult(value)\n        if (status==='failed') {\n            window.alert(error)\n        }\n    },[value,status])\n\n\n\n    const add = () => {\n        console.log(counter);\n        // //cara yg salah \n        setCounter(counter + 1)\n        // onExec()\n        // setResult(value)\n    }\n\n    const min = () => {\n        console.log(counter);\n        setCounter(counter - 1)\n        // onExec()\n        // setResult(value)\n    }\n\n    const onExec = async () => {\n        if (counter !== null) {\n            await execute(() => moreEffectService.doPrint(counter))\n        }\n    }\n\n    return {\n        result, status, add, min\n    }\n}\n\nexport default useMyHook;"],"mappings":";;AAAA,SAASA,SAAT,EAAoBC,QAApB,QAAoC,OAApC;AACA,SAASC,OAAT,QAAwB,0BAAxB;AACA,OAAOC,QAAP,MAAqB,uBAArB,C,CAEA;;AACA,MAAMC,SAAS,GAAG,MAAM;EAAA;;EACpB,MAAM,CAACC,MAAD,EAASC,SAAT,IAAsBL,QAAQ,CAAC,EAAD,CAApC;EACA,MAAM,CAACM,OAAD,EAAUC,UAAV,IAAwBP,QAAQ,CAAC,CAAD,CAAtC;EACA,MAAM;IAACQ;EAAD,IAAsBP,OAAO,EAAnC;EACA,MAAM;IAACQ,OAAD;IAAUC,MAAV;IAAkBC,KAAlB;IAAyBC;EAAzB,IAAkCV,QAAQ,EAAhD;EAEAH,SAAS,CAAC,MAAI;IACVc,MAAM;EACT,CAFQ,EAEP,CAACP,OAAD,CAFO,CAAT;EAIAP,SAAS,CAAC,MAAI;IACVM,SAAS,CAACM,KAAD,CAAT;;IACA,IAAID,MAAM,KAAG,QAAb,EAAuB;MACnBI,MAAM,CAACC,KAAP,CAAaH,KAAb;IACH;EACJ,CALQ,EAKP,CAACD,KAAD,EAAOD,MAAP,CALO,CAAT;;EASA,MAAMM,GAAG,GAAG,MAAM;IACdC,OAAO,CAACC,GAAR,CAAYZ,OAAZ,EADc,CAEd;;IACAC,UAAU,CAACD,OAAO,GAAG,CAAX,CAAV,CAHc,CAId;IACA;EACH,CAND;;EAQA,MAAMa,GAAG,GAAG,MAAM;IACdF,OAAO,CAACC,GAAR,CAAYZ,OAAZ;IACAC,UAAU,CAACD,OAAO,GAAG,CAAX,CAAV,CAFc,CAGd;IACA;EACH,CALD;;EAOA,MAAMO,MAAM,GAAG,YAAY;IACvB,IAAIP,OAAO,KAAK,IAAhB,EAAsB;MAClB,MAAMG,OAAO,CAAC,MAAMD,iBAAiB,CAACY,OAAlB,CAA0Bd,OAA1B,CAAP,CAAb;IACH;EACJ,CAJD;;EAMA,OAAO;IACHF,MADG;IACKM,MADL;IACaM,GADb;IACkBG;EADlB,CAAP;AAGH,CA3CD;;GAAMhB,S;UAG0BF,O,EACYC,Q;;;AAyC5C,eAAeC,SAAf"},"metadata":{},"sourceType":"module"}